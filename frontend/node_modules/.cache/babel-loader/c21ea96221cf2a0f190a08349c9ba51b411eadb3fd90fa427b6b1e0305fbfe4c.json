{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\galle\\\\Desktop\\\\Moveo-Fast-Online-Coding\\\\frontend\\\\src\\\\components\\\\CodeBlockDetails.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { mentorIn } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CodeBlockDetails = props => {\n  _s();\n  const mentorConnect = useSelector(state => state.isConnect);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  let bool = null;\n  let id = \"\";\n  const handleClick = () => {\n    dispatch(mentorIn());\n    fetchMentorConnected();\n    props.setTitle(props.codeBlock.title);\n    props.setCode(props.codeBlock.code);\n  };\n  const fetchMentorConnected = async () => {\n    const response = await fetch('/api/mentor');\n    const json = await response.json();\n    const singleItem = json[0];\n    if (response.ok) {\n      bool = singleItem.isConnected;\n      id = singleItem._id;\n      if (!bool) {\n        updateMentorConnected();\n        navigate('/mentorPage');\n      } else {\n        navigate('/studentPage');\n      }\n    }\n  };\n  const updateMentorConnected = async () => {\n    const isConnected = true;\n    const item = {\n      isConnected\n    };\n    const response = await fetch(\"api/mentor/\" + id, {\n      method: \"PATCH\",\n      body: JSON.stringify(item),\n      headers: {\n        'content-Type': 'application/json'\n      }\n    });\n    const json = await response.json();\n    if (response.ok) {\n      console.log(\"yesssssssssss\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"codeBlock-details\",\n    onClick: handleClick,\n    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: props.codeBlock.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeBlockDetails, \"/JM4HVMV+g2H9Mde+OoHJBfWQfI=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n_c = CodeBlockDetails;\nexport default CodeBlockDetails;\n\n// const handleClick = async () => {\n//     const response = await fetch(\"/api/items/\" + props.item._id, {\n//       method: \"DELETE\",\n//     });\n//     const json = await response.json();\n\n//     if (response.ok) {\n//       dispatch({ type: \"DELETE_ITEM\", payload: json });\n//     }\n\n// if(!booleanValue){\n//     navigate('/mentorPage')\n//     fetch('/boolean-endpoint', {\n//         method: 'POST',\n//         body: JSON.stringify({ booleanValue: true }),\n//         headers: { 'Content-Type': 'application/json' },\n//       })\n//         .then(response => response.json())\n//         .then(booleanValue => setBooleanValue(booleanValue));\n// }\n// else{\n//     navigate('/studentPage')\n// }\n\n// useEffect(() => {\n//     fetch('/boolean-endpoint')\n//       .then(response => response.json())\n//       .then(booleanValue => setBooleanValue(booleanValue));\n//   }, []);\nvar _c;\n$RefreshReg$(_c, \"CodeBlockDetails\");","map":{"version":3,"names":["useNavigate","useSelector","useDispatch","mentorIn","CodeBlockDetails","props","mentorConnect","state","isConnect","dispatch","navigate","bool","id","handleClick","fetchMentorConnected","setTitle","codeBlock","title","setCode","code","response","fetch","json","singleItem","ok","isConnected","_id","updateMentorConnected","item","method","body","JSON","stringify","headers","console","log"],"sources":["C:/Users/galle/Desktop/Moveo-Fast-Online-Coding/frontend/src/components/CodeBlockDetails.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\n\r\nimport {useSelector,useDispatch} from 'react-redux';\r\nimport { mentorIn } from '../actions';\r\n\r\nconst CodeBlockDetails = (props) => {\r\n\r\n    const mentorConnect = useSelector(state=>state.isConnect)\r\n    const dispatch = useDispatch()\r\n\r\n    const navigate = useNavigate()\r\n    let bool = null\r\n    let id = \"\" \r\n\r\n    const handleClick = () => {  \r\n        dispatch(mentorIn())\r\n\r\n        fetchMentorConnected()\r\n        props.setTitle(props.codeBlock.title)\r\n        props.setCode(props.codeBlock.code)\r\n    };\r\n\r\n    const fetchMentorConnected = async ()  =>{\r\n        const response = await fetch('/api/mentor')\r\n        const json = await response.json()\r\n        const singleItem = json[0]\r\n        if(response.ok){\r\n            bool = singleItem.isConnected\r\n            id = singleItem._id\r\n\r\n            if(!bool){\r\n                updateMentorConnected()\r\n                navigate('/mentorPage')\r\n            }else{\r\n                navigate('/studentPage')\r\n            }\r\n        }\r\n    }\r\n\r\n    const updateMentorConnected = async ()=>{\r\n        const isConnected = true\r\n        const item = {isConnected}\r\n        const response = await fetch(\"api/mentor/\" + id,{\r\n            method:\"PATCH\",\r\n            body:JSON.stringify(item),\r\n            headers:{\r\n                'content-Type':'application/json'\r\n            }\r\n        })\r\n        const json = await response.json()\r\n\r\n        if(response.ok){\r\n            console.log(\"yesssssssssss\")\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"codeBlock-details\" onClick={handleClick}>\r\n      <h4>{props.codeBlock.title}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeBlockDetails\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const handleClick = async () => {\r\n//     const response = await fetch(\"/api/items/\" + props.item._id, {\r\n//       method: \"DELETE\",\r\n//     });\r\n//     const json = await response.json();\r\n\r\n//     if (response.ok) {\r\n//       dispatch({ type: \"DELETE_ITEM\", payload: json });\r\n//     }\r\n\r\n\r\n\r\n// if(!booleanValue){\r\n        //     navigate('/mentorPage')\r\n        //     fetch('/boolean-endpoint', {\r\n        //         method: 'POST',\r\n        //         body: JSON.stringify({ booleanValue: true }),\r\n        //         headers: { 'Content-Type': 'application/json' },\r\n        //       })\r\n        //         .then(response => response.json())\r\n        //         .then(booleanValue => setBooleanValue(booleanValue));\r\n        // }\r\n        // else{\r\n        //     navigate('/studentPage')\r\n        // }\r\n\r\n\r\n\r\n        // useEffect(() => {\r\n    //     fetch('/boolean-endpoint')\r\n    //       .then(response => response.json())\r\n    //       .then(booleanValue => setBooleanValue(booleanValue));\r\n    //   }, []);"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,SAAQC,WAAW,EAACC,WAAW,QAAO,aAAa;AACnD,SAASC,QAAQ,QAAQ,YAAY;AAAC;AAEtC,MAAMC,gBAAgB,GAAIC,KAAK,IAAK;EAAA;EAEhC,MAAMC,aAAa,GAAGL,WAAW,CAACM,KAAK,IAAEA,KAAK,CAACC,SAAS,CAAC;EACzD,MAAMC,QAAQ,GAAGP,WAAW,EAAE;EAE9B,MAAMQ,QAAQ,GAAGV,WAAW,EAAE;EAC9B,IAAIW,IAAI,GAAG,IAAI;EACf,IAAIC,EAAE,GAAG,EAAE;EAEX,MAAMC,WAAW,GAAG,MAAM;IACtBJ,QAAQ,CAACN,QAAQ,EAAE,CAAC;IAEpBW,oBAAoB,EAAE;IACtBT,KAAK,CAACU,QAAQ,CAACV,KAAK,CAACW,SAAS,CAACC,KAAK,CAAC;IACrCZ,KAAK,CAACa,OAAO,CAACb,KAAK,CAACW,SAAS,CAACG,IAAI,CAAC;EACvC,CAAC;EAED,MAAML,oBAAoB,GAAG,YAAY;IACrC,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,CAAC;IAC3C,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;IAClC,MAAMC,UAAU,GAAGD,IAAI,CAAC,CAAC,CAAC;IAC1B,IAAGF,QAAQ,CAACI,EAAE,EAAC;MACXb,IAAI,GAAGY,UAAU,CAACE,WAAW;MAC7Bb,EAAE,GAAGW,UAAU,CAACG,GAAG;MAEnB,IAAG,CAACf,IAAI,EAAC;QACLgB,qBAAqB,EAAE;QACvBjB,QAAQ,CAAC,aAAa,CAAC;MAC3B,CAAC,MAAI;QACDA,QAAQ,CAAC,cAAc,CAAC;MAC5B;IACJ;EACJ,CAAC;EAED,MAAMiB,qBAAqB,GAAG,YAAU;IACpC,MAAMF,WAAW,GAAG,IAAI;IACxB,MAAMG,IAAI,GAAG;MAACH;IAAW,CAAC;IAC1B,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,GAAGT,EAAE,EAAC;MAC5CiB,MAAM,EAAC,OAAO;MACdC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;MACzBK,OAAO,EAAC;QACJ,cAAc,EAAC;MACnB;IACJ,CAAC,CAAC;IACF,MAAMX,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;IAElC,IAAGF,QAAQ,CAACI,EAAE,EAAC;MACXU,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChC;EACJ,CAAC;EAEH,oBACE;IAAK,SAAS,EAAC,mBAAmB;IAAC,OAAO,EAAEtB,WAAY;IAAA,uBACtD;MAAA,UAAKR,KAAK,CAACW,SAAS,CAACC;IAAK;MAAA;MAAA;MAAA;IAAA;EAAM;IAAA;IAAA;IAAA;EAAA,QAC5B;AAEV,CAAC;AAAC,GAxDIb,gBAAgB;EAAA,QAEIH,WAAW,EAChBC,WAAW,EAEXF,WAAW;AAAA;AAAA,KAL1BI,gBAAgB;AA0DtB,eAAeA,gBAAgB;;AAgB/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAIA;AACQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACJ;AACA;AACA;AACA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}