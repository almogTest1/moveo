{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/almog-l/Downloads/almog/moveo/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/almog-l/Downloads/almog/moveo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var CodeBlockDetails=function CodeBlockDetails(props){var navigate=useNavigate();var bool=null;var id=\"\";var handleClick=function handleClick(){fetchMentorConnected();props.setTitle(props.codeBlock.title);props.setCode(props.codeBlock.code);};var fetchMentorConnected=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json,singleItem;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/mentor');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;singleItem=json[0];if(response.ok){bool=singleItem.isConnected;id=singleItem._id;if(!bool){updateMentorConnected();navigate('/mentorPage');}else{navigate('/studentPage');}}case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchMentorConnected(){return _ref.apply(this,arguments);};}();var updateMentorConnected=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var isConnected,item,response,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:isConnected=true;item={isConnected:isConnected};_context2.next=4;return fetch(\"api/mentor/\"+id,{method:\"PATCH\",body:JSON.stringify(item),headers:{'content-Type':'application/json'}});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:json=_context2.sent;if(response.ok){console.log(\"yesssssssssss\");}case 9:case\"end\":return _context2.stop();}},_callee2);}));return function updateMentorConnected(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"codeBlock-details\",onClick:handleClick,children:/*#__PURE__*/_jsx(\"h4\",{children:props.codeBlock.title})});};export default CodeBlockDetails;// const handleClick = async () => {\n//     const response = await fetch(\"/api/items/\" + props.item._id, {\n//       method: \"DELETE\",\n//     });\n//     const json = await response.json();\n//     if (response.ok) {\n//       dispatch({ type: \"DELETE_ITEM\", payload: json });\n//     }\n// if(!booleanValue){\n//     navigate('/mentorPage')\n//     fetch('/boolean-endpoint', {\n//         method: 'POST',\n//         body: JSON.stringify({ booleanValue: true }),\n//         headers: { 'Content-Type': 'application/json' },\n//       })\n//         .then(response => response.json())\n//         .then(booleanValue => setBooleanValue(booleanValue));\n// }\n// else{\n//     navigate('/studentPage')\n// }\n// useEffect(() => {\n//     fetch('/boolean-endpoint')\n//       .then(response => response.json())\n//       .then(booleanValue => setBooleanValue(booleanValue));\n//   }, []);","map":{"version":3,"names":["useNavigate","CodeBlockDetails","props","navigate","bool","id","handleClick","fetchMentorConnected","setTitle","codeBlock","title","setCode","code","fetch","response","json","singleItem","ok","isConnected","_id","updateMentorConnected","item","method","body","JSON","stringify","headers","console","log"],"sources":["C:/Users/almog-l/Downloads/almog/moveo/frontend/src/components/CodeBlockDetails.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\n\r\nconst CodeBlockDetails = (props) => {\r\n\r\n    const navigate = useNavigate()\r\n    let bool = null\r\n    let id = \"\" \r\n\r\n    const handleClick = () => {  \r\n\r\n        fetchMentorConnected()\r\n        props.setTitle(props.codeBlock.title)\r\n        props.setCode(props.codeBlock.code)\r\n    };\r\n\r\n    const fetchMentorConnected = async ()  =>{\r\n        const response = await fetch('/api/mentor')\r\n        const json = await response.json()\r\n        const singleItem = json[0]\r\n        if(response.ok){\r\n            bool = singleItem.isConnected\r\n            id = singleItem._id\r\n\r\n            if(!bool){\r\n                updateMentorConnected()\r\n                navigate('/mentorPage')\r\n            }else{\r\n                navigate('/studentPage')\r\n            }\r\n        }\r\n    }\r\n\r\n    const updateMentorConnected = async ()=>{\r\n        const isConnected = true\r\n        const item = {isConnected}\r\n        const response = await fetch(\"api/mentor/\" + id,{\r\n            method:\"PATCH\",\r\n            body:JSON.stringify(item),\r\n            headers:{\r\n                'content-Type':'application/json'\r\n            }\r\n        })\r\n        const json = await response.json()\r\n\r\n        if(response.ok){\r\n            console.log(\"yesssssssssss\")\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"codeBlock-details\" onClick={handleClick}>\r\n      <h4>{props.codeBlock.title}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeBlockDetails\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const handleClick = async () => {\r\n//     const response = await fetch(\"/api/items/\" + props.item._id, {\r\n//       method: \"DELETE\",\r\n//     });\r\n//     const json = await response.json();\r\n\r\n//     if (response.ok) {\r\n//       dispatch({ type: \"DELETE_ITEM\", payload: json });\r\n//     }\r\n\r\n\r\n\r\n// if(!booleanValue){\r\n        //     navigate('/mentorPage')\r\n        //     fetch('/boolean-endpoint', {\r\n        //         method: 'POST',\r\n        //         body: JSON.stringify({ booleanValue: true }),\r\n        //         headers: { 'Content-Type': 'application/json' },\r\n        //       })\r\n        //         .then(response => response.json())\r\n        //         .then(booleanValue => setBooleanValue(booleanValue));\r\n        // }\r\n        // else{\r\n        //     navigate('/studentPage')\r\n        // }\r\n\r\n\r\n\r\n        // useEffect(() => {\r\n    //     fetch('/boolean-endpoint')\r\n    //       .then(response => response.json())\r\n    //       .then(booleanValue => setBooleanValue(booleanValue));\r\n    //   }, []);"],"mappings":"0RAAA,OAASA,WAAW,KAAQ,kBAAkB,CAAC,2CAE/C,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,KAAK,CAAK,CAEhC,GAAMC,SAAQ,CAAGH,WAAW,EAAE,CAC9B,GAAII,KAAI,CAAG,IAAI,CACf,GAAIC,GAAE,CAAG,EAAE,CAEX,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CAEtBC,oBAAoB,EAAE,CACtBL,KAAK,CAACM,QAAQ,CAACN,KAAK,CAACO,SAAS,CAACC,KAAK,CAAC,CACrCR,KAAK,CAACS,OAAO,CAACT,KAAK,CAACO,SAAS,CAACG,IAAI,CAAC,CACvC,CAAC,CAED,GAAML,qBAAoB,4FAAG,uLACFM,MAAK,CAAC,aAAa,CAAC,QAArCC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,eACJC,UAAU,CAAGD,IAAI,CAAC,CAAC,CAAC,CAC1B,GAAGD,QAAQ,CAACG,EAAE,CAAC,CACXb,IAAI,CAAGY,UAAU,CAACE,WAAW,CAC7Bb,EAAE,CAAGW,UAAU,CAACG,GAAG,CAEnB,GAAG,CAACf,IAAI,CAAC,CACLgB,qBAAqB,EAAE,CACvBjB,QAAQ,CAAC,aAAa,CAAC,CAC3B,CAAC,IAAI,CACDA,QAAQ,CAAC,cAAc,CAAC,CAC5B,CACJ,CAAC,qDACJ,kBAfKI,qBAAoB,0CAezB,CAED,GAAMa,sBAAqB,6FAAG,4KACpBF,WAAW,CAAG,IAAI,CAClBG,IAAI,CAAG,CAACH,WAAW,CAAXA,WAAW,CAAC,wBACHL,MAAK,CAAC,aAAa,CAAGR,EAAE,CAAC,CAC5CiB,MAAM,CAAC,OAAO,CACdC,IAAI,CAACC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CACzBK,OAAO,CAAC,CACJ,cAAc,CAAC,kBACnB,CACJ,CAAC,CAAC,QANIZ,QAAQ,uCAOKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,gBAEV,GAAGD,QAAQ,CAACG,EAAE,CAAC,CACXU,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAChC,CAAC,uDACJ,kBAfKR,sBAAqB,2CAe1B,CAEH,mBACE,YAAK,SAAS,CAAC,mBAAmB,CAAC,OAAO,CAAEd,WAAY,uBACtD,oBAAKJ,KAAK,CAACO,SAAS,CAACC,KAAK,EAAM,EAC5B,CAEV,CAAC,CAED,cAAeT,iBAAgB,CAgB/B;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACJ;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}